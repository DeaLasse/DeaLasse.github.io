document.addEventListener("DOMContentLoaded", function () {
    const menuBtn = document.getElementById("menuBtn");
    const nav = document.getElementById("nav");
    const overlay = document.getElementById("overlay");

    menuBtn.addEventListener("click", () => {
        menuBtn.classList.toggle("open");
        nav.classList.toggle("open");
        overlay.classList.toggle("active");
    });

    overlay.addEventListener("click", () => {
        menuBtn.classList.remove("open");
        nav.classList.remove("open");
        overlay.classList.remove("active");
    });
});

document.addEventListener("DOMContentLoaded", function () {
    const card = document.getElementById("card");
    const predictionText = document.getElementById("prediction-text");

    // Список предсказаний
    const predictions = [
        "Когда вам страшно, остановитесь, сделайте глубокий вдох и выдох. Поймите, что самое ценное - это сама жизнь. Всё остальное - это мелочи. Здесь и сейчас всё хорошо. Это самое главное. Теперь вместо того, чтобы бояться подумайте о желанном варианте событий и прокручивайте его как можно чаще в своих мыслях. Всё будет так, как вы хотите.",
        "Заменяйте каждую негативную мысль на позитивную. Говорите себе: “Каким-то образом это помогает исполнить мою мечту”. Вместо критики дайте себе капельку любви. Если вы сами себя не цените, то кто будет ценить вас? Всё начинается изнутри, вашего отношения к себе и миру вокруг.",
        "Изменения - это не всегда трудности. Они могут быть лёгкими. Откройтесь чему-то новому. Сопротивление лишь усугубляет ситуацию. Не нагнетайте обстановку вокруг себя. В вашей  жизни ничего не поменяется, пока вы не примите решение что-то поменять. Это должен быть осознанный выбор. Отбросьте страх неизвестности. Будьте в состоянии приятного предвкушения.",
        "Позволяйте себе отдыхать. Разгружайте свой мозг от информационного шума, расслабляйтесь физически. Без качественного отдыха и восстановления не будет энергии вдохновения для новых побед и свершений. Пусть отдых для вас станет не роскошью, а полезной ежедневной привычкой.",
        "Будьте внимательны к своим внутренним ощущениям. То, что вы чувствуете, возникает не просто так. Это подсказка для выбора направления вашего пути. Даже если сейчас вы не можете оставить свою прошлую жизнь, то просто сделайте первый шаг к жизни своей мечты.",
        "Иногда то, что не сработало для вас, на самом деле работало на вас. Любая ситуация происходит для вашего же блага, даже если в начале совсем так не кажется. Всё ведет вас к развитию. Всё будет хорошо.",
        "Осознайте, что у вас есть изобилие возможностей, причем прямо сейчас, в этот самый момент. Жизнь полна возможностей. Не следует сожалеть о прошлом или беспокоиться о будущем - всё это только отвлекает от использования тех возможностей, которые открываются для вас прямо сейчас. Действуйте.",
        "Будьте собой. Не старайтесь кому-то угодить. Всегда выбирайте себе и своё душевное равновесие. Если внутри что-то не откликается и нет удовольствия, то меняйте направление. Вам можно передумать, перехотеть. Вам можно абсолютно все.",
        "Иногда первый шаг сделать очень трудно и страшно. Но преодолев себя, свои убеждения и страхи, вы понимаете, что это было лучшее решение в вашей жизни. Не бойтесь пробовать новое. Именно там зона вашего роста и выход на новый уровень жизни и развития.",
        "У вас всё отлично получается! Вы находитесь там, где надо. Не сдавайтесь. Доведите дело до конца в удобном для вас темпе. Не нужно действовать через силу, просто делайте один маленький шаг каждый день и однажды вы окажитесь там, где вы хотели.",
        "Ваша уникальность - ключ к гармонии. Позвольте своему свету свободно сиять, не подражая другим. Откройте сердце для истинной природы вашего бытия. Будьте собой - и в этой искренности вы найдёте силу, мудрость и благодать. Вас любит и поддерживает Вселенная.",
        "Просто мечтать недостаточно. Именно ваши действия определяют, придете ли вы к желаемому или нет. Вселенная помогает вам на пути, когда вы идёте в сторону своей мечты. Вселенная окажет поддержку, подарит возможности, нужных людей и события, но главное - ваши действия и ваша вера. Вы сможете! Вы справитесь!",
        "Ваше мышление создаёт вашу реальность. Думайте позитивно, ведь каждая мысль - семя вашего будущего. Осознавайте свою силу, приветствуйте радость, и благодать Вселенной будет с вами. Верьте в свои возможности и создавайте жизнь, о которой мечтаете.",
        "Что вам однозначно не следует делать - так это разочаровываться в своей жизни. Вы не должны думать, что она не удалась. Ни в каком возрасте нельзя так думать. В жизни ничего не происходит зря. Всё только начинается - в любом возрасте, в любое время и при любых условиях.",
        "В вас живёт огромная сила и заложен огромный потенциал. Все ваши планы, цели, желания, таланты и взгляды - даны вам не просто так. Будьте собой. Вы пришли в этот мир, чтобы раскрыть все грани себя. Узнавайте себя. Проявляйтесь!",
        "Напоминайте себя почаще, что никто не идеален и не может быть идеальным, и что чего-то не уметь, не понимать, о чём-то забыть, стесняться, опаздывать, чего-то бояться - это нормально. Не идеален никто. Разрешите себе любить себя за все достоинства и недочеты.",
        "Мир вокруг вас- зеркало вашего внутреннего состояния. То, что вы видите в других, отражает состояние вашей души. Посмотрите с любовью и состраданием, и мир ответит вам тем же. Изучайте свет и доброту, и вы увидите, как мир станет более ярким и гармоничным.",
        "Счастье - это не цель, а состояние вашего внутреннего света. Оно исходит из осознания и принятия себя таким, какие вы есть. Погрузитесь в моменты благодарности и любви, и вы откроете двери к глубокому счастью, которое не зависит от внешних обстоятельств. Сияйте своим светом!",
        "Если вы ждете лучшее время, то оно еще не настало. Начните сегодня то, что приведете вас к вашей цели и мечте. Именно сегодняшний день положит начало чему-то очень важному для вас. Один маленький шаг начнет прокладывать дорогу и все начнет складываться лучшим образом. Не откладывайте на потом, просто начните.",
        "То, что вы чаще всего говорите себе или о себе - становится вами. Начните мысленно каждый день говорить себе, что Вы успешны, талантливы, здоровы, стройны и красивы. Вначале вы не будете в это верить, но пройдет время и вы поверите, а потом и станете таким человеком.",
        "Пришло время поставить точку и отпустить прошлое. Пока мыслями вы находитесь в прошлом, вы не можете создать новый желаемый результат в своей жизни. Напишите на бумаге всё, что Вас тревожит и позвольте себе это отпустить. Поблагодарите эту ситуацию, этого человека и себя. Вы сделали всё правильно. Настало время двигаться дальше.",
        "Все события в вашей жизни не случайны. Все люди рядом с вами не просто так. Всё, что вас окружает - имеет свой смысл. Где вы сейчас? С кем вы? Что происходит вокруг вас? Ответы на эти вопросы помогут Вам понять, куда идти и что стоит изменить, чтобы ваша жизнь была наполнена радостью, изобилием и счастьем.",
        "Погрузитесь в глубины своего сердца и найдите благодарность за каждый момент, за каждый опыт, за каждого человека, встреча с которым дарует вам уроки и рост. Благодарность - это ключ к гармонии и изобилию в вашей жизни. Когда вы выражаете благодарность за то, что вы уже имеете, вы открываете двери для новых благ и возможностей.",
        "Что внутри, то и снаружи. Что снаружи, то и внутри. Никогда не забывайте об этом. Где ваши мысли - там и ваша энергия. Чем больше вы будете думать о плохом, тем больше в жизни подтверждений этому вы будете находить. Чем больше вы будете думать о хорошем, тем больше замечательного и прекрасного будете привлекать в свою жизнь.",
        "Вы не сможете помочь другим, пока не можете помочь себе. Пусть ваш внутренний ресурс будет для вас на первом месте. Соглашайтесь на предложения и помощь только из состояния изобилия и радости, а не из чувства долга или вины.",
        "Мир как зеркало отражает всё. Если вы уверены, что мир плохой и не любит вас, то Вы будете правы, и он будет таким. Если вы верите в то, что мир полон возможностей и изобилия, то именно этим он вас и окружит. Следите за тем, что вы говорите и думаете, что вы транслируете на внутреннем уровне. Это вы и будете притягивать в свою жизнь.",
        "Деньги - это энергия обмена, несущая возможности и изобилие. Приветствуйте их с благодарностью, умело используйте для своего блага и блага других. Помните, что в изобилии денег заключается сила творения и осуществления вашей жизненной миссии.",
        "Не бывает и не существует неудач, провалов, промахов. Если что-то идет не так, спросите себя “Что жизнь пытается показать мне через эту ситуацию?”. К чему она подводит, что хочет донести, от чего оберегает и защищает, что хочет открыть? Жизнь всегда показывает наилучший вариант развития и лучшие пути решения. Помните об этом.",
        "Замечаете ли вы, как проходят ваши дни? Обращаете ли внимание на то, что вас окружает? Замечаете ли красоту жизнь? Прямо сегодня замедлитесь. Хоть немного. Побудьте в моменте, отключите бесконечные мысли и начните замечать, где вы и что чувствуете. Найдите то, что вас привлекает. Настоящий миг неповторим. Не упускайте его."
    ];

    // Проверяем localStorage
    const savedState = localStorage.getItem("cardState");
    const savedPrediction = localStorage.getItem("prediction");
    const lastOpened = localStorage.getItem("lastOpened");

    // Функция проверки и сброса в полночь
    function resetAtMidnight() {
        const now = new Date();
        const today = now.toISOString().split("T")[0]; // Дата в формате YYYY-MM-DD

        if (lastOpened !== today) {
            localStorage.setItem("cardState", "front");
            localStorage.setItem("lastOpened", today);
            localStorage.removeItem("prediction");
            location.reload(); // Обновляем страницу, чтобы сбросить состояние
        }
    }

    resetAtMidnight(); // Вызываем при загрузке страницы

    // Если карточка уже была перевернута, сохраняем состояние
    if (savedState === "back" && savedPrediction) {
        card.classList.add("flipped");
        predictionText.textContent = savedPrediction;
    }

    // Обработчик клика по карточке
    card.addEventListener("click", function () {
        if (!card.classList.contains("flipped")) {
            const randomPrediction = predictions[Math.floor(Math.random() * predictions.length)];
            predictionText.textContent = randomPrediction;
            localStorage.setItem("cardState", "back");
            localStorage.setItem("prediction", randomPrediction);
            card.classList.add("flipped");
        }
    });
});